<div class="page-content">
  <button md-raised-button 
    (click)="onUpdateSchool(companyEditForm.value)"
    class="update">
      {{"Customer.EditCompany.Update" | translate}}
  </button>
  <form *ngIf="companyEditForm" [formGroup]="companyEditForm" novalidate>
  
    <div formGroupName="identity"
      fxLayoutWrap
      fxLayout.xs="column"
      fxLayoutAlign="center"
      fxLayoutGap="5%"> <!--Identity Columns row-->
      
      <h3 fxFlex="100">{{"Customer.EditCompany.Identity" | translate}}</h3>
  
      <div fxFlex fxLayoutWrap> <!--column 1-->
        <md-input-container fxFlex="100">
          <input mdInput placeholder="{{'Customer.EditCompany.CompanyName' | translate}}" type="text"
            formControlName="companyName" maxlength="100">
        </md-input-container>
          <md-input-container fxFlex="100">
            <input mdInput placeholder="Capital" type="number"
              formControlName="capitalAmmount" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                  maxlength = "15">
          </md-input-container>
           <md-select placeholder="{{'Customer.EditCompany.Currency' | translate}}" fxFlex="100" fxFlexOffset
            formControlName="capitalCurrency">
            <md-option *ngFor="let currency of currencies" [value]="currency">
              {{ currency }}
            </md-option>
          </md-select>
        
      </div>
          
      <div fxFlex fxLayoutWrap> <!--column 2-->
        <md-input-container fxFlex="100">
          <input mdInput placeholder="{{'Customer.EditCompany.SiretNumber' | translate}}" type="text"
            formControlName="siretNumber" maxlength="40">
        </md-input-container>
        <md-input-container fxFlex="100">
          <input mdInput placeholder="{{'Customer.EditCompany.ProTrainingAgreeNumber' | translate}}" type="text"
            formControlName="professionalRegistrationNumber" maxlength="40">
        </md-input-container>
        <md-select placeholder="{{'Customer.EditCompany.LegalType' | translate}}" fxFlex="40"
          formControlName="legalType">
          <md-option *ngFor="let legalType of legalTypes" [value]="legalType">
            {{ legalType }}
          </md-option>
        </md-select>
        <!-- <md-input-container fxFlex="100">
          <input mdInput placeholder="Certifications" type="text"
            formControlName="certifications" maxlength="40">
        </md-input-container> -->

         <md-select placeholder="{{ 'Customer.EditCompany.Certifications' | translate }}" 
            fxFlex="45" 
            fxFlexOffset="10"
            formControlName="capitalCurrency">
            <md-option *ngFor="let certif of certifications" [value]="certif">
              {{ certif }}
            </md-option>
         <md-option (click)="onNewCertifications()" >
              Add Certifications 
            </md-option>
         
          </md-select>

      </div>
  
      <div fxFlex></div>  <!--column 3-->
    </div>
  
    <div formGroupName="legalRepresentative"
      fxLayoutWrap
      fxLayout.xs="column"
      fxLayoutGap="2%"> <!--Legal Representative row-->
  
      <h3 fxFlex="100">{{"Customer.EditCompany.LegalRepresentative" | translate}}</h3>
  
      <div fxFlex fxLayoutWrap fxLayoutGap="5%"> <!--column 1-->
       <div fxLayout fxFlex="100" fxLayoutGap="5%" fxLayout.xs="column">
         <md-radio-group >
                <md-radio-button value="mr" class="rdmark">{{ 'Customer.AddContact.Mr' | translate}}</md-radio-button>
                <md-radio-button value="mrs" class="rdmark">{{ 'Customer.AddContact.Mrs' | translate}}</md-radio-button>
                <md-radio-button value="ms" class="rdmark">{{ 'Customer.AddContact.Ms' | translate}}</md-radio-button>
              </md-radio-group>
       </div>
        <div fxLayout fxFlex="100" fxLayoutGap="5%" fxLayout.xs="column">
         
          <md-input-container fxFlex="100">
            <input mdInput placeholder="{{'Customer.EditCompany.position' | translate}}" type="text"
              formControlName="position" maxlength="60">
          </md-input-container>

        </div>
        <div fxLayout fxFlex="100" fxLayoutGap="5%" fxLayout.xs="column">
          <md-input-container fxFlex="100">
            <input mdInput placeholder="{{'Customer.EditCompany.firstName' | translate}}" type="text"
              formControlName="firstName" maxlength="40">
          </md-input-container>
          </div>
           <div fxLayout fxFlex="100" fxLayoutGap="5%" fxLayout.xs="column">
          <md-input-container fxFlex="100">
            <input mdInput placeholder="{{'Customer.EditCompany.lastName' | translate}}" type="text"
              formControlName="lastName" maxlength="60">
          </md-input-container>
        </div>

           <!-- <div fxLayout fxFlex="100" fxLayoutGap="5%" fxLayout.xs="column"> -->
             <md-input-container fxFlex="95">
          <input mdInput placeholder="{{'Customer.EditCompany.phoneNumber' | translate}}" type="text"
            formControlName="landlinePhone" pattern='^\+?\d{0,15}' oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                  maxlength = "15">
        </md-input-container>
           <!-- </div> -->
      </div>
  
      <div fxFlex fxLayoutWrap>  <!--column 2-->
      
          <md-input-container fxFlex="60">
          <input mdInput placeholder="{{'Customer.EditCompany.FAX' | translate}}" type="text"
            formControlName="directPhone" pattern='^\+?\d{0,15}' oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                  maxlength = "15">
        </md-input-container>

        <md-input-container fxFlex="60">
          <input mdInput placeholder="{{'Customer.EditCompany.mobileNumber' | translate}}" type="text"
            formControlName="mobilePhone" pattern='^\+?\d{0,15}' oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                  maxlength = "15">
        </md-input-container>
        <md-input-container fxFlex="60">
          <input mdInput placeholder="{{'Customer.EditCompany.emailAddress' | translate}}" type="email"
            formControlName="email" pattern="[^@\s]+@[^@\s]+\.[^@\s]+" title="Invalid email address" maxlength = "254">
        </md-input-container>

        <div fxLayout fxFlex="60" fxLayoutGap="5%" fxLayout.xs="column"> <!--column 3-->
        <md-select multiple fxFlex placeholder="{{'Customer.EditCompany.AdmcRoles' | translate}}"
            formControlName="roleAdmtc">
            <md-option *ngFor="let role of roles" [value]="role">
              {{ role | translate }}
            </md-option>
          </md-select>
      </div>
        
      </div>
  
      <div fxFlex></div> 
     
    </div>
    
    <div formGroupName="taxes"
      fxLayout fxLayout.xs="column"> <!--taxes row -->
      <div fxFlex="100" fxLayoutWrap
        fxLayout.xs="column"
        fxLayoutGap="5%">
        <h3 fxFlex="100">Taxes</h3>
        <md-checkbox fxFlex="100" labelPosition="before" 
          
          formControlName="apprenticeTax">Habilitation Taxe d'Apprendissage</md-checkbox>
        <md-checkbox fxFlex="100" labelPosition="before" 
          formControlName="vatTaxable">Assujetti a la TVA</md-checkbox>
        
        <md-checkbox fxFlex="100" labelPosition="before" 
          formControlName="salaryTax"
          [(ngModel)]="taxSalaryChecked"
          (click)="onCheckSalaryTax()"
          >Assujetti Taxe Sur les Salaires</md-checkbox> 
      

      <div *ngIf="taxSalaryChecked">
        <div fxLayout fxLayoutWrap>
          <br>
          <div fxFlex="100">
            <span fxFlex>Montant Annuel de la Taxe sur les salaires
            </span>
          </div>
          <md-input-container fxFlex="70">
            <input mdInput 
              type="number"
              formControlName="salaryTaxAmmount" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                  maxlength = "15">
          </md-input-container>
          </div> 
          <div fxLayout fxLayoutWrap>
          <md-select placeholder="{{ 'Customer.EditCompany.Currency' | translate }}" 
            fxFlex="50" 
            fxFlexOffset
            formControlName="capitalCurrency">
            <md-option *ngFor="let currency of currencies" [value]="currency">
              {{ currency }}
            </md-option>
          </md-select>
        </div>
      </div>
      </div>
    </div>
  </form>
</div>