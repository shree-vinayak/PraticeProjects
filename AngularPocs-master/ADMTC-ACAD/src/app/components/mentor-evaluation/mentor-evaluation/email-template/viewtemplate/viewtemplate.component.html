<div fxLayout="column wrap" fxLayoutAlign="start" style="width: 100%; height: 100%;">
  <div style="margin-left: -24px; margin-right: -24px; margin-top: -24px;">
    <div class="pa-1">
      <div fxLayout="row wrap" fxLayoutAlign="start center">
        <div fxFlex>
          <span class="text-xl">{{'MENTOREVALUATION.EMAILTEMPLATE.TITLE' | translate}}</span>
        </div>
        <button md-icon-button (click)="closeDialog()">
          <md-icon>close</md-icon>
        </button>
      </div>
    </div>
    <hr>
  </div>

  <md-tab-group fxFlex headerPosition="center" class="mb-1 viewTemplate" md-stretch-tabs style="min-height: 300px">
    <md-tab [label]="'MENTOREVALUATION.EMAILTEMPLATE.TITLE' | translate">
      <div fxLayout="row" fxLayoutWrap="wrap" fxFlex="100">
        <div fxFlex.gt-sm="70%" fxFlex="100">
          <md-card>
            <form [formGroup]="templateForm">
              <md-card-content>
                <div fxLayout="row" fxLayoutWrap="wrap">
                  <md-input-container style="width: 100%">
                    <input mdInput placeholder="{{'MENTOREVALUATION.EMAILTEMPLATE.FILENAME.title' | translate}}" [formControl]="templateForm.controls['filename']"
                      type="search" pattern="[a-zA-Z ÆÐƎƏƐƔĲŊŒẞÞǷȜæðǝəɛɣĳŋœĸſßþƿȝĄƁÇĐƊĘĦĮƘŁØƠŞȘŢȚŦŲƯY̨Ƴąɓçđɗęħįƙłøơşșţțŧųưy̨ƴÁÀÂÄǍĂĀÃÅǺĄÆǼǢƁĆĊĈČÇĎḌĐƊÐÉÈĖÊËĚĔĒĘẸƎƏƐĠĜǦĞĢƔáàâäǎăāãåǻąæǽǣɓćċĉčçďḍđɗðéèėêëěĕēęẹǝəɛġĝǧğģɣĤḤĦIÍÌİÎÏǏĬĪĨĮỊĲĴĶƘĹĻŁĽĿʼNŃN̈ŇÑŅŊÓÒÔÖǑŎŌÕŐỌØǾƠŒĥḥħıíìiîïǐĭīĩįịĳĵķƙĸĺļłľŀŉńn̈ňñņŋóòôöǒŏōõőọøǿơœŔŘŖŚŜŠŞȘṢẞŤŢṬŦÞÚÙÛÜǓŬŪŨŰŮŲỤƯẂẀŴẄǷÝỲŶŸȲỸƳŹŻŽẒŕřŗſśŝšşșṣßťţṭŧþúùûüǔŭūũűůųụưẃẁŵẅƿýỳŷÿȳỹƴźżžẓ ]*">
                  </md-input-container>
                  <small *ngIf="templateForm.controls['filename'].hasError('required') && (templateForm.controls['filename'].touched || formSubmit)"
                    class="mat-text-warn"> {{'MENTOREVALUATION.EMAILTEMPLATE.FILENAME.validation1' | translate}}</small>
                  <small *ngIf="templateForm.controls['filename'].hasError('maxlength') && (templateForm.controls['filename'].touched || formSubmit)"
                    class="mat-text-warn">{{ 'MENTOREVALUATION.EMAILTEMPLATE.FILENAME.validation2' | translate}}</small>
                  <small *ngIf="templateForm.controls['filename'].hasError('pattern') && (templateForm.controls['filename'].touched || formSubmit)"
                    class="mat-text-warn">{{ 'MENTOREVALUATION.EMAILTEMPLATE.FILENAME.validation3' | translate}}</small>

                </div>
                <div fxLayout="row" fxLayoutWrap="wrap">
                  <md-input-container style="width: 100%">
                    <input mdInput placeholder="{{'MENTOREVALUATION.EMAILTEMPLATE.SUBJECT.title' | translate}}" [formControl]="templateForm.controls['subject']"
                      pattern="[a-zA-Z ÆÐƎƏƐƔĲŊŒẞÞǷȜæðǝəɛɣĳŋœĸſßþƿȝĄƁÇĐƊĘĦĮƘŁØƠŞȘŢȚŦŲƯY̨Ƴąɓçđɗęħįƙłøơşșţțŧųưy̨ƴÁÀÂÄǍĂĀÃÅǺĄÆǼǢƁĆĊĈČÇĎḌĐƊÐÉÈĖÊËĚĔĒĘẸƎƏƐĠĜǦĞĢƔáàâäǎăāãåǻąæǽǣɓćċĉčçďḍđɗðéèėêëěĕēęẹǝəɛġĝǧğģɣĤḤĦIÍÌİÎÏǏĬĪĨĮỊĲĴĶƘĹĻŁĽĿʼNŃN̈ŇÑŅŊÓÒÔÖǑŎŌÕŐỌØǾƠŒĥḥħıíìiîïǐĭīĩįịĳĵķƙĸĺļłľŀŉńn̈ňñņŋóòôöǒŏōõőọøǿơœŔŘŖŚŜŠŞȘṢẞŤŢṬŦÞÚÙÛÜǓŬŪŨŰŮŲỤƯẂẀŴẄǷÝỲŶŸȲỸƳŹŻŽẒŕřŗſśŝšşșṣßťţṭŧþúùûüǔŭūũűůųụưẃẁŵẅƿýỳŷÿȳỹƴźżžẓ ]*">
                  </md-input-container>
                  <small *ngIf="templateForm.controls['subject'].hasError('required') && (templateForm.controls['subject'].touched || formSubmit)"
                    class="mat-text-warn"> {{'MENTOREVALUATION.EMAILTEMPLATE.SUBJECT.validation1' | translate}}</small>
                  <small *ngIf="templateForm.controls['subject'].hasError('maxlength') && (templateForm.controls['subject'].touched || formSubmit)"
                    class="mat-text-warn">{{ 'MENTOREVALUATION.EMAILTEMPLATE.SUBJECT.validation2' | translate}}</small>
                  <small *ngIf="templateForm.controls['subject'].hasError('pattern') && (templateForm.controls['subject'].touched || formSubmit)"
                    class="mat-text-warn">{{ 'MENTOREVALUATION.EMAILTEMPLATE.SUBJECT.validation3' | translate}}</small>
                </div>
                <div fxLayout="row" fxLayoutWrap="wrap" style="background:white;color: black;">
                  <quill-editor (onSelectionChanged)="textChanged($event)" [(ngModel)]="composeMailMessage" [formControl]="templateForm.controls['message']"></quill-editor>

                </div>
              </md-card-content>
            </form>
          </md-card>
        </div>
        <div fxFlex.gt-sm="30%" fxFlex="100">
          <md-card>
            <md-card-content>
              <h5 class="available-variable-header" style="margin-bottom: 10px;">{{'MENTOREVALUATION.EMAILTEMPLATE.VERIABLES' | translate}}</h5>
              <div class="available-variable" style="text-align: center;">
                <ul style="text-align: left;">
                  <li *ngFor="let item of availableVeriable" style="cursor: pointer" style="margin-bottom: 5px;cursor: pointer" (click)="addVeriable(item)">
                    {{item}}
                  </li>
                </ul>
              </div>
            </md-card-content>
          </md-card>
        </div>
      </div>
    </md-tab>

  </md-tab-group>

  <div fxLayout="row wrap" fxLayoutAlign="center" fxLayoutGap="1rem" fxFlexAlign="end" style="width: 100%">
    <button md-raised-button color="red" (click)="closeDialog()">{{"MENTOREVALUATION.EMAILTEMPLATE.CANCEL" | translate}}</button>
    <button md-raised-button color="green" (click)="sendTemplate()">{{"MENTOREVALUATION.EMAILTEMPLATE.SAVE" | translate}}</button>
  </div>
</div>
