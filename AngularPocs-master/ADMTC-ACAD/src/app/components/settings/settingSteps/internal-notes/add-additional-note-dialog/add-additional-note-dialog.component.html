<div fxLayout="column wrap" fxLayoutAlign="start" style="width: 100%; height: 100%;">
    <div style="margin-left: -24px; margin-right: -24px; margin-top: -24px;">
        <div class="pa-1">
            <div fxLayout="row wrap" fxLayoutAlign="start center">
                <h3 fxFlex>
                    <span style="float: left">
                        <svg style="width:24px;height:24px;vertical-align: middle;" viewBox="0 0 24 24">
                            <path fill="#000000" d="M9,22A1,1 0 0,1 8,21V18H4A2,2 0 0,1 2,16V4C2,2.89 2.9,2 4,2H20A2,2 0 0,1 22,4V16A2,2 0 0,1 20,18H13.9L10.2,21.71C10,21.9 9.75,22 9.5,22H9M11,6V9H8V11H11V14H13V11H16V9H13V6H11Z" />
                        </svg>
                    </span>
                    <h5 style="float: left; transform: translateY(-5px);">
                        {{'INTERNAL_NOTE.ADD_ADDITIONAL_NOTE.Title' | translate}}
                    </h5>
                </h3>
                <button md-icon-button (click)="closeDialog()">
                    <md-icon>close</md-icon>
                </button>
            </div>
        </div>
        <hr>
    </div>


    <div fxLayout="row" fxLayoutWrap="wrap" fxFlex="100">
        <div fxFlex.gt-sm="100%" fxFlex="100">
            <form [formGroup]="form" (ngSubmit)="addAdditionalNotes(form.value)">
                <div fxLayout="row" fxLayoutWrap="wrap">
                    <div fxFlex="100" fxFlex.lt-md="100">
                        <div class="px-1 select-input-container">
                            <md-input-container color="accent" style="width: 100%">
                                <textarea style="height: 80px" mdInput id="icon_prefix2" formControlName="addedNote"
                                    [placeholder]="'INTERNAL_NOTE.ADD_ADDITIONAL_NOTE.AdditionalNotes' | translate"
                                    class="materialize-textarea"></textarea>
                            </md-input-container>
                        </div>
                    </div>
                </div>
                <!-- CODE FOR ADD DOCUMENT -->
                <div fxLayout="row" style="justify-content: space-between">
                    <div fxFlex="55" fxFlex.lt-md="55">
                        <div class="px-1 select-input-container">
                            <md-input-container class="full-width" fxFlex="100">
                                <input mdInput type="text" [placeholder]="'INTERNAL_NOTE.ADD_ADDITIONAL_NOTE.NameOfDocument' | translate"
                                    [(ngModel)]="currentInternalDocString" [ngModelOptions]="{standalone: true}">
                            </md-input-container>
                        </div>
                    </div>
                    <div fxFlex>
                        <div style="text-align: right">
                            <input #uploadFileControl style="display: none" type="file" formControlName="addedDocuments"
                                ng2FileSelect [uploader]="uploader" disableMultipart="true" />
                            <button fxFlexAlign="end" md-raised-button color="primary" type="button" (click)="openUploadWindow()">
                                {{ 'INTERNAL_NOTE.ADD_ADDITIONAL_NOTE.AddDocument' | translate}}
                            </button>
                        </div>
                    </div>
                </div>

                <div fxLayout="row" *ngFor="let doc of internalExpectedDoc; let i = index">
                    <div fxFlex="70" fxFlex.lt-md="70">
                        <div class="px-1 select-input-container">
                            <md-input-container class="full-width" fxFlex="70">
                                <input mdInput type="text" [(ngModel)]="doc.name" [ngModelOptions]="{standalone: true}"
                                    [required]="internalExpectedDoc.length < 1">
                            </md-input-container>
                            <a color="primary" type="button" (click)='removeDocument(i)' fxFlexAlign="center">
                                <md-icon>remove_circle</md-icon>
                            </a>
                        </div>
                    </div>
                </div>
                <!-- <div fxLayout="row wrap" fxLayoutAlign="end end" fxLayoutGap="5px" fxFlexAlign="end" style="width: 100%">
                    <button md-raised-button color="red" (click)="closeDialog()">{{"INTERNAL_NOTE.CANCEL" | translate}}</button>
                    <button md-raised-button color="primary" [disabled]="!form.valid">{{"INTERNAL_NOTE.ENTER" |
                        translate}}</button>
                </div> -->
                <div fxLayout="row wrap" fxLayoutAlign="end end" fxLayoutGap="5px" fxFlexAlign="end" style="width: 100%">
                    <button md-raised-button color="red" (click)="closeDialog()" type="button">{{"INTERNAL_NOTE.CANCEL" | translate}}</button>
                    <button md-raised-button color="primary" type="submit">{{"INTERNAL_NOTE.ENTER"
                        | translate}}</button>
                </div>
            </form>
        </div>
    </div>
</div>
